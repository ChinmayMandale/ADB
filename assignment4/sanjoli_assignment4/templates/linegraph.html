
<!doctype html>
    <head>
    	<title>Earthquake Data Visualization using D3.js</title>
      <script src="https://d3js.org/d3.v4.min.js"></script>
      <style>
        .bar {
            fill: steelblue;
        }
      </style>
    </head>
    <body style="text-align: center;">

        <h1><a href="{{ url_for('index') }}">ADB Assignment 2</a></h1>
        <h1>Chinmay Mandale</h1>
        <h1>1001995246</h1>


      <svg> </svg>
      <script>
        var plotData = {{ data|safe }}
        console.log(plotData)
        var margin = {top: 10, right: 30, bottom: 40, left: 60},
        width = 460 - margin.left - margin.right,
        height = 400 - margin.top - margin.bottom;
        // append the svg object to the body of the page
        var svg = d3.select("svg").attr("width", width + margin.left + margin.right)
                    .attr("height", height + margin.top + margin.bottom)
                    .append("g")
                    .attr("transform","translate(" + margin.left + "," + margin.top + ")");

        var x = d3.scaleLinear()
                  .domain(d3.extent(plotData, function(d) { return d.depth; }))
                  .range([ 0, width ]);
        svg.append("g")
          .attr("transform", "translate(0," + height + ")")
          .call(d3.axisBottom(x))
          .append("text")
          .attr("x", width)
          .attr("dx", "-5.1em")
          .attr("y", 35)
          .attr("text-anchor", "end")
          .attr("stroke", "black")
          .text("Depth");

        // Add Y axis
        var y = d3.scaleLinear()
                  .domain([0, d3.max(plotData, function(d) { return + d.magnitude; })])
                  .range([ height, 0 ]);
        svg.append("g")
          .call(d3.axisLeft(y))
          .append("text")
          .attr("transform", "rotate(-90)")
          .attr("y", 6)
          .attr("dy", "-5.1em")
          .attr("text-anchor", "end")
          .attr("stroke", "black")
          .text("Magnitude");

        // Add the path using this helper function
        svg.append("path")
            .datum(plotData)
            .attr("fill", "none")
            .attr("stroke", "steelblue")
            .attr("stroke-width", 1.5)
            .attr("d", d3.line()
              .x(function(d) { return x(d.depth) })
              .y(function(d) { return y(d.magnitude) })
              )
      </script><br/>
      <a href="{{url_for('index')}}">Back</a>
    </body>
</html>